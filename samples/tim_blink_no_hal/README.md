# tim blink sample

В данном примере продемонстрировано использование прерываний периферийного блока таймера (TIM2) для управления блоком GPIO;

т.е. мигаем светодиодом по таймеру

Последовательность запуска периферийных блоков необходимо искать в reference manual на микроконтроллер.

## Последовательность настройки перефирийных блоков

### Настройка GPIO

1. Активируем тактирование GPIO в регистре RCC
1. Переводим GPIO в режим OUTPUT

### Настройка TIM2

1. Активируем тактирование TIM в регистре RCC
1. устанавливаем значение при котором таймер будет перезагружен (ARR)
1. устанавливаем предделитель частоты PSC (для того чтобы узнать частоту смотрим с какой частотой тактируется шина где расположен блок)
1. активируем прерывания по UPDATE событию (DIER)
1. запускаем таймер (устанавливаем CEN бит в TIM_CR1)

## Как работает

Когда таймер досчитает до установленного порога, то произойдет прерывание. Прерывания управляются блоком NVIC. При возникновении данного события программа вызовет функцию обработчика, имя которой задается в startup файле (startup_stm32f427xx.s). Для того чтобы светодиод на устройстве изменил свое значение на противоположное применим побитовую операцию XOR (^1) на заданное смещение пина.
